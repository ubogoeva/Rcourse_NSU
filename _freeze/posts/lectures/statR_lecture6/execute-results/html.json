{
  "hash": "a68bd221b847509806a1b201172195ca",
  "result": {
    "markdown": "---\ntitle: \"Язык программирования R для анализа данных: лекция 6\"\nsubtitle: 'Введение в статистику вывода'\nauthor: \"Elena U\"\n#date: \"Created on 01 April, 2023\"\nexecute:\n  echo: true\n  output: true\nformat: \n  revealjs:\n    slide-number: c/t\n    show-slide-number: all\n    # mainfont: Arial\n    # fontsize: 14px\n    theme: [default, custom.scss]\n    chalkboard: \n      buttons: true\n    # theme: [serif]\n    # mouse-wheel: true\n    auto-play-media: true\n    width: 1280\n    height: 720\n    fig-dpi: 300\n    # logo: figures/icg.png\nrevealjs-plugins:\n  - pointer\neditor: visual\ndraft: true\n---\n\n\n## Рекомендуемая литература\n\n-   Книги:\n\n    -   \"Статистика для всех\" Сара Бослаф (Statistics in a Nutshell)\n\n-   Курсы\n\n    -   Введение в статистику (Части [1](https://stepik.org/course/76), [2](https://stepik.org/course/524), [3](https://stepik.org/course/2152)) на платформе Stepik\n\n    -   [Introduction to Probability and Data with R](https://www.coursera.org/learn/probability-intro) на платформе Coursera\n\n::: callout-note\nБольше источников [здесь](http://t.me/stats_for_science/28)\n:::\n\n## План лекции\n\n-   Типы переменных и типы шкал\n\n-   Понятие генеральной совокупности и выборки\n\n-   Описательные статистики\n\n-   Статистика вывода\n\n-   Тест Стьюдента, ограничения, особенности\n\n## Данные для работы\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nwc3_units <- read_tsv('https://raw.githubusercontent.com/ubogoeva/tidyverse_tutorial/master/data/wc3_heroes.txt',\n                      col_names = TRUE, \n                      na = '-', \n                      name_repair = 'minimal') %>% \n  janitor::clean_names() # для правильных названий колонок\n```\n:::\n\n\n## Типы переменных и типы шкал\n\n::: incremental\n-   Количественные\n\n    -   Непрерывные (рост, вес, длина корня)\n\n    -   Дискретные (количество детей в семье)\n\n    -   Интервальные (температура в градусах Цельсия)\n\n    -   Ранговые (места в соревнованиях, тяжесть болезни)\n\n-   Качественные (категориальные, номинативные)\n\n    -   Бинарные (есть мутация или нет)\n:::\n\n## Классификации типов переменных\n\nЗависимые и независимые переменные - важно для проведения статистических критериев.\n\n## Что такое генеральная совокупность?\n\n::: incremental\n-   Генеральная совокупность --- совокупность всех объектов (единиц), относительно которых предполагается делать выводы при изучении конкретной задачи.\n\n-   Генеральная совокупность состоит из всех объектов, которые имеют качества, свойства, интересующие исследователя.\n\n    Например: все клетки определенной клеточной линии, все растения определенного генотипа.\n:::\n\n## Что такое выборка?\n\n-   Выборка --- часть генеральной совокупности элементов, доступная для исследования.\n\n    ![](images/image-1460015740.png)\n\n## Классификация выборки\n\n-   По принципу отбора:\n\n    -   Независимые\n\n    -   Зависимые (например до и после применения лекарства)\n\n-   По корректности отбора:\n\n    -   Репрезентативные\n\n    -   Нерепрезентативные\n\n-   Основные стратегии отбора:\n\n    -   Простая случайная выборка\n\n    -   Стратифицированная\n\n## Как можно описать значения в выборке?\n\nОписательные статистики:\n\n-   Меры центральной тенденции\n\n-   Меры изменчивости\n\n## Меры центральной тенденции\n\n-   Среднее - среднее арифметическое всех значений.\n\n-   Медиана - середина упорядоченного ряда значений.\n\n-   Мода - наиболее часто встречающееся значение в выборке.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(wc3_units$gold) # среднее\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] NA\n```\n:::\n\n```{.r .cell-code}\nmean(wc3_units$gold, na.rm = TRUE) # среднее без учета пропущенных значений\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 195.625\n```\n:::\n\n```{.r .cell-code}\nmedian(wc3_units$gold, na.rm = TRUE) # медиана\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 190\n```\n:::\n:::\n\n\nДля вычисления моды можно использовать функцию `dplyr::count()`\n\n## Вычисление моды: `dplyr::count()`\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nwc3_units %>% \n  count(armor_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  armor_type       n\n  <chr>        <int>\n1 Fort             1\n2 Heavy           29\n3 Invulnerable     1\n4 Light           11\n5 Medium          15\n6 Unarmored       14\n```\n:::\n:::\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nwc3_units %>% \n  count(armor_type) %>% \n  arrange(desc(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  armor_type       n\n  <chr>        <int>\n1 Heavy           29\n2 Medium          15\n3 Unarmored       14\n4 Light           11\n5 Fort             1\n6 Invulnerable     1\n```\n:::\n:::\n\n\n## Меры изменчивости\n\n-   Размах -- разность между максимальным и минимальным значениями.\n\n-   Межквартильный размах -- разница между верхним и нижним квартилем.\n\n-   Дисперсия -- сумма квадратов отклонений, деленная на их количество.\n\n    ::: callout-note\n    Отклонение -- это разность между средним арифметическим и конкретным значением.\n    :::\n\n-   Стандартное отклонение -- корень из дисперсии.\n\n## Формула дисперсии и стандартного отклонения\n\nДисперсия (variance):\n\n$$\nvar = \\frac{\\sum_{i=1}^n(x_i - \\overline{x})^2}{n},\n$$\n\nгде $\\overline{x}$ - среднее, n - количество элементов в выборке\n\nСтандартное отклонение (standard deviation, sd)\n\n$$\nsd = \\sqrt{var} =\\sqrt{\\frac{\\sum_{i=1}^n(x_i - \\overline{x})^2}{n}}\n$$\n\nЗдесь приведена смещенная оценка - то есть в знаменателе n.\n\nПо умолчанию функции `var()` и `sd()` считают несмещенную оценку - в знаменателе n-1.\n\n## Межквартильный размах или как интерпретировать боксплот\n\nБоксплот\n\n![](https://i.ytimg.com/vi/BE8CVGJuftI/maxresdefault.jpg)\n\n## Оценки среднего\n\nСтандартная ошибка\n\nДоверительный интервал\n\n## Нормальное распределение\n\nНепрерывное распределение вероятностей с пиком в центре и симметричными боковыми сторонами, которое в одномерном случае задаётся функцией плотности вероятности, совпадающей с функцией Гаусса.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1)\nnorm_distr <- rnorm(10000)\nhist(norm_distr, freq = FALSE)\nlines(density(norm_distr))\n```\n\n::: {.cell-output-display}\n![](statR_lecture6_files/figure-revealjs/unnamed-chunk-6-1.png){width=3000}\n:::\n:::\n\n\n## Нормальное распределение\n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Standard_deviation_diagram.svg/1200px-Standard_deviation_diagram.svg.png){width=\"522\"}\n\n## Центральная предельная теорема\n\nСогласно центральной предельной теореме (ЦПТ, *central limit theorem*), какой бы ни была форма распределения в генеральной совокупности, **выборочное распределение средних** будет стремиться к нормальному. При этом чем больше размер выборки, тем ближе выборочное распределение средних будет к нормальному.\n\n## Центральная предельная теорема\n\nИспользуем лог-нормальное распределение:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(rlnorm(10000), breaks = 100)\n```\n\n::: {.cell-output-display}\n![](statR_lecture6_files/figure-revealjs/unnamed-chunk-7-1.png){width=3000}\n:::\n:::\n\n\n------------------------------------------------------------------------\n\nКак будут распределены средние из лог-нормального распределения?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmany_means <- replicate(1000, mean(rlnorm(10000)))\nhist(many_means, breaks = 100)\n```\n\n::: {.cell-output-display}\n![](statR_lecture6_files/figure-revealjs/unnamed-chunk-8-1.png){width=3000}\n:::\n:::\n\n\nОни будут распределены нормально!\n\n## Тест Стьюдента\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwc3_units_armor <- wc3_units %>% \n  filter(armor_type == 'Heavy' | armor_type == 'Light')\nt.test(wc3_units_armor$hp ~ wc3_units_armor$armor_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWelch Two Sample t-test\n\ndata:  wc3_units_armor$hp by wc3_units_armor$armor_type\nt = -2.3602, df = 21.493, p-value = 0.02778\nalternative hypothesis: true difference in means between group Heavy and group Light is not equal to 0\n95 percent confidence interval:\n -536.65167  -34.28877\nsample estimates:\nmean in group Heavy mean in group Light \n           533.6207            819.0909 \n```\n:::\n:::\n",
    "supporting": [
      "statR_lecture6_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}